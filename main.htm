

<!DOCTYPE html> 
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>App</title> 
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
</head> 

	
<body> 

<!-- Start of first page: #one -->
<div data-role="page" id="one">

	<div data-role="header" style="z-index:4;">
		<h1>Login</h1>
	</div>
	
	<style>
		input {
			-moz-border-radius: 15px;
			border-radius: 15px;
			border:solid 1px black;
			padding:5px;
			height:4%;
			width:36%;
	}
	#one
{
background: #000;
background-image:url(layout.png), url(hot.png);
background-size:100% 100%;

}
	</style>
	
	<script>
		function credCheck()  {
			
			var pass = document.getElementById('pass').value;
			var email = document.getElementById('user').value;
			var xmlhttp=new XMLHttpRequest();
			xmlhttp.onreadystatechange=function() {
				if (xmlhttp.readyState==4 && xmlhttp.status==200) {
					
					var data=JSON.parse(xmlhttp.responseText);
					if (data == true) {
						$("#t1").click(); // simulate link click 
					}
					else {
						document.getElementById("txtHint").innerHTML="<font color='red'><center>Error. Wrong Username or Password</center></font>";
					}
					
				}
			}
			xmlhttp.open("GET","checklogin.php?email=" + email + "&&pass=" + pass,true);
			xmlhttp.send();
		}
	</script>
	<table style="z-index:500;position:fixed; bottom:0;right:0;" border="0"  cellspacing="0" cellpadding="0">
		<tr>
			<td><a data-transition="flow" href="#tab1" href="http:/www.google.com" id="email" ><img src="http://imgur.com/JOiuxC4.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/xedSdTz.png'" onMouseOut="this.src='http://imgur.com/JOiuxC4.png'"></a></td>
		
			<td><a href="#one" id="skull"><img src="http://i.imgur.com/FDLG9I3.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/FDLG9I3.png'" onMouseOut="this.src='http://i.imgur.com/FDLG9I3.png'"></a></td>
		
			<td><a href="#tab3" data-transition="flow" id="chat" ><img src="http://imgur.com/cMRXS8B.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/TkJ1Xzc.png'" onMouseOut=		"this.src='http://imgur.com/cMRXS8B.png'"></a></td>
		</tr>
	</table>
	<a id="t1" href="#setpref"  data-transition="pop" ></a>
	<div id="txtHint"></div>
	<form name="bob" id="bob" action="JavaScript:credCheck();" style="z-index:4;" method="post"><br><br><center>
		<input  style="width:70%;position:absolute;top:35.25%;left:17%;height:4.25%;z-index:7;" type="text" name="user" id="user" placeholder="Username" value=""/><br><br>
		<input style="width:70%;position:absolute;top:46%;height:4.25%;left:17%;;z-index:7;" type="password" name="pass" id="pass" placeholder="Password" value=""/><br><br>
		<button style="top:60%;height:4.2%;left:33%" name="bob" id="bob" style="width:50%;z-index:4; padding-top:10px; padding-bottom:10px;"  class="ui-btn ui-corner-all" type="submit">Login</button>
		<a style="top:75%;left:33%" href="#newuser"data-role="button" data-rel="page" data-transition="pop">New User </a>
		
	</form>
	<script>
		$('bob').css({ width: '20px', 'padding-top': '10px', 'padding-bottom': '10px' });
	</script>
	<style>0
		button {
			background: transparent;
			border: none !important;
			z-index:100; !important;
		}
		.ui-btn{
			width: 30% !important;
			top:57%;
		
			left: 33%;
			position: absolute;
		}
	</style>

	
	
 
		
		
	</div><!-- /content -->
	
	
</div><!-- /page one -->




















<div data-theme: "a" data-role="page" id="newuser">
	<div data-role="header" style="z-index:4;">
		<h1>Create Account</h1>
	</div>
	<style>
		input {
			-moz-border-radius: 15px;
			border-radius: 15px;
			border:solid 1px black;
			padding:5px;
			height:4%;
			width:36%;
	}
	#newuser
{
background: #000;
background-image: url(hot.png);
background-size:100% 100%; 
}
	</style>
	
	<script>
		function canDoCheck()  {
			var name = document.getElementById('name').value;
			var pass = document.getElementById('pass').value;
			var email = document.getElementById('user').value;
			var xmlhttp=new XMLHttpRequest();
			xmlhttp.onreadystatechange=function() {
				if (xmlhttp.readyState==4 && xmlhttp.status==200) {
					console.log(name);
					var data=JSON.parse(xmlhttp.responseText);
					alert(data);
					if (data == true) {
						    document.getElementById("txtHint").innerHTML="<font color='red'><center>Error. User name already exists!</center></font>"; 
					}
					else {
						$("#t1").click(); // simulate link click   
						
					}
				}
			}
			xmlhttp.open("GET","new_user.php?email=" + email + "&&pass=" + pass "&&name=" + name,true);
			xmlhttp.send();
		}
	</script>
	<table style="z-index:500;position:fixed; bottom:0;right:0;" border="0"  cellspacing="0" cellpadding="0">
		<tr>
			<td><a data-transition="flow" href="#tab1" href="http:/www.google.com" id="email" ><img src="http://imgur.com/JOiuxC4.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/xedSdTz.png'" onMouseOut="this.src='http://imgur.com/JOiuxC4.png'"></a></td>
		
			<td><a href="#one" id="skull"><img src="http://i.imgur.com/FDLG9I3.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/FDLG9I3.png'" onMouseOut="this.src='http://i.imgur.com/FDLG9I3.png'"></a></td>
		
			<td><a href="#tab3" data-transition="flow" id="chat" ><img src="http://imgur.com/cMRXS8B.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/TkJ1Xzc.png'" onMouseOut=		"this.src='http://imgur.com/cMRXS8B.png'"></a></td>
		</tr>
	</table>
	<a id="t1" href="#one"  data-transition="pop" ></a>
	<div id="txtHint"></div>
	<form name="hib" id="hib" action="JavaScript:canDoCheck();" style="z-index:4;" method="post"><br><br><center>
		<input  style="z-index:7;" type="text" name="user" id="user" placeholder="Username" value=""/><br><br>
		<input style="z-index:7;" type="password" name="pass" id="pass" placeholder="Password" value=""/><br><br>
		<input style="z-index:7;" type="text" name="name" id="name" placeholder="Full Name" value=""/><br><br>
		<button style="z-index:4;"  class="ui-btn ui-corner-all" type="submit">Create Account</button>
		<a href="#one"data-role="button" data-rel="page" data-transition="pop"> Already Have an Account </a>

	</form>
	<style>
		button {
			background: transparent;
			border: none !important;
		}
	</style>

	
	
 
		
		
		<p><a href="#popup"data-role="button" data-rel="dialog" data-transition="pop">Show page "popup" (as a dialog)</a></p>
		
	</div><!-- /content -->
	



<!-- Start of second page: #two -->
<div data-role="page" id="tab1">
<style>
		input {
			-moz-border-radius: 15px;
			border-radius: 15px;
			border:solid 1px black;
			padding:5px;
			height:4%;
			width:36%;
	}
	#tab1
{
background: #000;
background-image:url(MainScreenBackground.png);
background-size:100% 100%;  
}
	</style>
	
<table style="z-index:500;position:fixed; bottom:0;right:0;" border="0"  cellspacing="0" cellpadding="0">
		<tr>
			<td><a data-transition="flow" href="#tab1" id="email" ><img src="RecommendationButton.png" height="40%" width="100%" onMouseOver="this.src='RecommendationButton.png'" onMouseOut="this.src='RecommendationButton.png'"></a></td>
		
			<td><a href="#one" id="skull"><img src="DiscussionButtonUnselected.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/FDLG9I3.png'" onMouseOut="this.src='DiscussionButtonUnselected.png'"></a></td>
		
			<td><a href="#tab3" data-transition="flow" id="chat" ><img src="http://imgur.com/cMRXS8B.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/TkJ1Xzc.png'" onMouseOut=		"this.src='http://imgur.com/cMRXS8B.png'"></a></td>
		</tr>
	</table>
	<div data-role="header">
		<h1>Recommended Surf Spots</h1>
	</div><!-- /header -->
	<script>
		run();
		var x=document.getElementById("demo");
		function run()  {
			var name = document.getElementById('name').value;
			var pass = document.getElementById('pass').value;
			var email = document.getElementById('user').value;
			var xmlhttp=new XMLHttpRequest();
			xmlhttp.onreadystatechange=function() {
				if (xmlhttp.readyState==4 && xmlhttp.status==200) {
					var data=JSON.parse(xmlhttp.responseText);
					data.beaches[0].weather;
					var image;
					if(data.beaches[0].weather == "Sunny")
						image = "SunnyButton.png";
					if(data.beaches[0].weather == "Rain")
						image = "RainButton.png";
					if(data.beaches[0].weather == "Cloudy Rainy")
						image ="CloudyRainyButton.png";
					if(data.beaches[0].weather == "Cloudy Sunny")
						image = "CloudySunnyButton.png";
					if(data.beaches[0].weather == "Slightly Cloudy")
						image = "CloudySunnyButton.png";
					document.querySelector('#weather').innerHTML = "<img title='HI' href='#tab3' align='center' style='width:50%;left:25%;position:absolute; top:20%;' src='" + image + "'>";
					document.querySelector('#names').innerHTML = "<h1>"+data.beaches[0].name+"</h1>";
					document.querySelector('#temp').innerHTML = "<h1>"+data.beaches[0].temperature+"&#176; F</h1>";
					getLocation(data.beaches[0].latitude, data.beaches[0].longitude, 0);
					
					
					data.beaches[1].weather;
					var image;
					if(data.beaches[1].weather == "Sunny")
						image = "SunnyButton.png";
					if(data.beaches[1].weather == "Rain")
						image = "RainButton.png";
					if(data.beaches[1].weather == "Cloudy Rainy")
						image ="CloudyRainyButton.png";
					if(data.beaches[1].weather == "Cloudy Sunny")
						image = "CloudySunnyButton.png";
					if(data.beaches[1].weather == "Slightly Cloudy")
						image = "CloudySunnyButton.png";
					document.querySelector('#weather1').innerHTML = "<img href='#tab3' align='center' style='width:50%;left:25%;position:absolute; top:20%;' src='" + image + "'>";
					document.querySelector('#names1').innerHTML = "<h1>"+data.beaches[1].name+"</h1>";
					document.querySelector('#temp1').innerHTML = "<h1>"+data.beaches[1].temperature+"&#176; F</h1>";
					getLocation(data.beaches[1].latitude, data.beaches[1].longitude, 1);
				}
			}
			xmlhttp.open("GET","http://penguintoast.no-ip.biz:8080/api/recommendations",true);
			xmlhttp.send();
		}
		var lati, longit;
		var dit;
		
		function getLocation(lat, longi, di)
  {
	dit = di;
	lati = lat; 
	longit = longi;
  if (navigator.geolocation)
    {
	
    navigator.geolocation.getCurrentPosition(showPosition);
    }
  else{x.innerHTML="Geolocation is not supported by this browser.";}
  }
function showPosition(position)
  {
	var lat2 = (position.coords.latitude) * (Math.PI/180);
	var long2 = (position.coords.longitude) * (Math.PI/180);
	var R = 6371;
	var dLat = (lati  - lat2) * (Math.PI/180);
	var dLon = (longit - long2) * (Math.PI/180);
	var lat1 = lati * (Math.PI/180);
	var lat2 = lat2 * (Math.PI/180);
	var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
        Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2); 
	var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
	var d = R * c;
	var findis = (d * 0.621371).toFixed(2);

		document.querySelector('#distance').innerHTML = "<h2>"+findis+" Km</h2>";

		document.querySelector('#distance1').innerHTML = "<h2>"+findis+" Km</h2>";
  }
	</script>
		<a href="#tab3" style="text-decoration:none;">
		<div id="weather" style="width:100%;position:absolute; top:53%;">
		</div>
		<div id="distance" style="position:absolute; top:59%; left:53%;">
		</div>
		<div style="position:absolute;top:51.5%;left:26%;" id="names">
		</div>
		<div style="position:absolute;top:51.5%;left:53%;" id="temp">
		</div>
		</a>
		<a href="#tab3" style="text-decoration:none;">
		<div id="weather1" style="width:100%;position:absolute; top:33%;">
		</div>
		<div id="distance1" style="position:absolute; top:39%; left:53%;">
		</div>
		<div style="position:absolute;top:31.5%;left:26%;" id="names1">
		</div>
		<div style="position:absolute;top:31.5%;left:53%;" id="temp1">
		</div>
		</a>
</div><!-- /page two -->
<div data-role="page" id="tab3">
<table style="z-index:500;position:fixed; bottom:0;right:0;" border="0"  cellspacing="0" cellpadding="0">
	<tr>
		<td><a data-transition="flow" href="#tab1" href="http:/www.google.com" id="email" ><img src="http://imgur.com/JOiuxC4.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/xedSdTz.png'" onMouseOut="this.src='http://imgur.com/JOiuxC4.png'"></a></td>
		<td><a href="#one" id="skull"><img src="DiscussionButtonUnselected.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/FDLG9I3.png'" onMouseOut="this.src='DiscussionButtonUnselected.png'"></a></td>
		<td><a href="#tab3" data-transition="flow" id="chat" ><img src="WeatherButton.png" height="40%" width="100%" onMouseOver="this.src='WeatherButton.png'" onMouseOut=		"this.src='WeatherButton.png'"></a></td>
	</tr>
</table>
  <div data-role="header">
   
  <h1>Details</h1>
	
	
  </div>
<iframe src="index.html?id=1" height="100%" width="100%" style="position:absolute; top:20%; left:0%; height:100%; width:100%;"></iframe>
<a href="map.htm" data-ajax="false" style="position: absolute; top:10%; "type="button" data-rel="external">Open Map</a>
 </div>
 


<!-- Start of third page: #popup -->
<div data-role="page" id="setpref">

  <div data-role="header">
   
  <h1>Surfing Preferences</h1>
  </div>
<script>
	function changeData()  {
		var x1 = document.getElementById('x1').value;
		var x2 = document.getElementById('x2').value;
		var x3 = document.getElementById('x3').value;
		var x4 = document.getElementById('x4').value;
		var x5 = document.getElementById('x5').value;
		var xmlhttp=new XMLHttpRequest();
		xmlhttp.onreadystatechange=function() {
			if (xmlhttp.readyState==4 && xmlhttp.status==200) {
				var data=JSON.parse(xmlhttp.responseText);
				
			}
			$("#t4").click();
		}
		xmlhttp.open("GET","changeData.php?x1=" + x1 + "&&x2=" + x2 +"&&x3=" + x3+"&&x4=" + x4+"&&x5=" + x5 ,true);
		xmlhttp.send();
	}
	</script>
	<a id="t4" href="#tab1"  data-transition="pop" ></a>

<style>
		input {
			-moz-border-radius: 15px;
			border-radius: 15px;
			border:solid 1px black;
			padding:5px;
			height:4%;
			width:36%;
	}
	#newuser
{
background: #000;
background-image: url(hot.png);
background-size:100% 100%; 
}
	</style>
<div data-role='main' class='ui-content'>
    <form id="hob" name="hob" method='post' action='JavaScript:changeData();'>
      <label for='points'>Swell:</label>
      <input type='range' name='x1' id='x1' value='50' min='0' max='100'><br><br>
	   <label for='points'>Tide:</label>
      <input type='range' name='x2' id='x2' value='50' min='0' max='100'><br><br>
	  <label for='points'>Wind:</label>
      <input type='range' name='x3' id='x3' value='50' min='0' max='100'><br><br>
	  <label for='points'>Time:</label>
      <input type='range' name='x4' id='x4' value='50' min='0' max='100'><br><br>
	  <label for='points'>Weather:</label>
      <input type='range' name='x5' id='x5'value='50' min='0' max='100'><br><br>
      <input type='submit'class="ui-btn ui-corner-all"  value='Update Prefences'>
    </form>
  </div>
  <table style="z-index:500;position:fixed; bottom:0;right:0;" border="0"  cellspacing="0" cellpadding="0">
		<tr>
			<td><a data-transition="flow" href="#tab1" href="http:/www.google.com" id="email" ><img src="http://imgur.com/JOiuxC4.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/xedSdTz.png'" onMouseOut="this.src='http://imgur.com/JOiuxC4.png'"></a></td>
		
			<td><a href="#one" id="skull"><img src="http://i.imgur.com/FDLG9I3.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/FDLG9I3.png'" onMouseOut="this.src='http://i.imgur.com/FDLG9I3.png'"></a></td>
		
			<td><a href="#tab3" data-transition="flow" id="chat" ><img src="http://imgur.com/cMRXS8B.png" height="40%" width="100%" onMouseOver="this.src='http://i.imgur.com/TkJ1Xzc.png'" onMouseOut=		"this.src='http://imgur.com/cMRXS8B.png'"></a></td>
		</tr>
	</table>
</div>

</div><!-- /page popup -->

</body>
</html>